export const htrsByTr = (hdps, tr) => {
    if (!tr?.historyId) {
        return [];
    }
    return hdps.reduce((acc, dp) => {
        const htr = dp.testResults[tr.historyId];
        if (htr) {
            if (dp.url) {
                const url = new URL(dp.url);
                url.hash = tr.id;
                acc.push({
                    ...htr,
                    url: url.toString(),
                });
            }
            else {
                acc.push(htr);
            }
        }
        return acc;
    }, []);
};
