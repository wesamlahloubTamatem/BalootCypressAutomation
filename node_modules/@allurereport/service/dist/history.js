import { KnownError } from "./utils/http.js";
export class AllureRemoteHistory {
    constructor(params) {
        this.params = params;
    }
    async readHistory() {
        const { allureServiceClient, branch, limit } = this.params;
        if (!branch) {
            return [];
        }
        try {
            const res = await allureServiceClient.downloadHistory({
                branch,
                limit,
            });
            return res;
        }
        catch (err) {
            if (err instanceof KnownError && err.status === 404) {
                return [];
            }
            throw err;
        }
    }
    async appendHistory() {
    }
}
